/* Revised design tokens and component styles */
:root {
  /* Color palette */
  --color-bg: #121212;
  --color-surface: #1e1e1e;
  --color-surface-alt: #242424;
  --color-text: #fafafa;
  --color-subtle: #b3b3b3;
  --color-primary: #ff6b2c;
  --color-on-primary: #000000;
  --color-border: #2c2c2c;
  --color-danger: #ff5b5b;

  /* Radii */
  --radius-sm: 4px;
  --radius-md: 8px;
  --radius-lg: 16px;

  /* Spacing scale (8pt) */
  --space-0: 0px;
  --space-1: 4px;
  --space-2: 8px;
  --space-3: 16px;
  --space-4: 24px;
  --space-5: 32px;
  --space-6: 40px;

  /* Typography */
  --font-title: 600 28px/36px 'Inter', sans-serif;
  --font-section: 500 20px/28px 'Inter', sans-serif;
  --font-body: 400 16px/24px 'Inter', sans-serif;
  --font-caption: 400 14px/20px 'Inter', sans-serif;

  /* Elevation */
  --elevation-1: 0 1px 2px rgba(0,0,0,0.7);
  --elevation-2: 0 2px 4px rgba(0,0,0,0.75);
  --elevation-3: 0 4px 8px rgba(0,0,0,0.8);

  transition: background-color .15s, color .15s;
}

/* Light theme tokens */
[data-theme='light'] {
  --color-bg: #f7f7f7;
  --color-surface: #ffffff;
  --color-surface-alt: #f0f0f0;
  --color-text: #111111;
  --color-subtle: #555555;
  --color-primary: #ff6b2c;
  --color-on-primary: #ffffff;
  --color-border: #d9d9d9;
  --color-danger: #d0011b;
}

body {
  background: var(--color-bg);
  color: var(--color-text);
  font: var(--font-body);
}

h1 { font: var(--font-title); }
h2 { font: var(--font-section); }
p { font: var(--font-body); }
.caption { font: var(--font-caption); }

/* Buttons */
.button {
  min-height: 44px;
  padding: var(--space-2) var(--space-3);
  border-radius: var(--radius-md);
  border: 1px solid var(--color-border);
  background: var(--color-surface-alt);
  color: var(--color-text);
  display: inline-flex;
  align-items: center;
  gap: var(--space-1);
  box-shadow: var(--elevation-1);
  transition: background .15s, color .15s, box-shadow .15s, transform .15s;
}
.button:hover {
  background: var(--color-primary);
  color: var(--color-on-primary);
}
.button:active {
  transform: scale(0.97);
  box-shadow: var(--elevation-2);
}
.button[disabled] {
  opacity: 0.5;
  cursor: not-allowed;
}
.button--primary {
  background: var(--color-primary);
  color: var(--color-on-primary);
  border-color: var(--color-primary);
}

/* Chips */
.chip {
  display: inline-flex;
  align-items: center;
  padding: 0 var(--space-2);
  min-height: 32px;
  border-radius: var(--radius-lg);
  background: var(--color-surface-alt);
  border: 1px solid var(--color-border);
  font: var(--font-caption);
}
.chip--selected {
  background: var(--color-primary);
  color: var(--color-on-primary);
}

/* Slider */
.slider {
  width: 100%;
  height: 4px;
  border-radius: var(--radius-sm);
  background: var(--color-border);
}
.slider::-webkit-slider-thumb {
  width: 20px;
  height: 20px;
  border-radius: 50%;
  background: var(--color-primary);
  cursor: pointer;
}
.slider::-moz-range-thumb {
  width: 20px;
  height: 20px;
  border-radius: 50%;
  background: var(--color-primary);
  cursor: pointer;
}

/* Toast */
.toast {
  position: fixed;
  bottom: var(--space-3);
  left: 50%;
  transform: translateX(-50%);
  background: var(--color-surface);
  color: var(--color-text);
  padding: var(--space-2) var(--space-3);
  border-radius: var(--radius-md);
  box-shadow: var(--elevation-2);
  display: none;
}
.toast.is-visible { display: block; }

/* Bottom sheet */
.bottom-sheet {
  position: fixed;
  left: 0;
  right: 0;
  bottom: 0;
  background: var(--color-surface);
  border-top-left-radius: var(--radius-lg);
  border-top-right-radius: var(--radius-lg);
  box-shadow: var(--elevation-3);
  padding: var(--space-3);
  transform: translateY(100%);
  transition: transform .2s;
}
.bottom-sheet.is-open { transform: translateY(0); }

/* Progress HUD */
.progress-hud {
  position: fixed;
  inset: 0;
  display: none;
  align-items: center;
  justify-content: center;
  background: rgba(0,0,0,0.5);
  color: var(--color-on-primary);
  font: var(--font-body);
}
.progress-hud.is-visible { display: flex; }

@media (prefers-reduced-motion: reduce) {
  * { transition: none !important; animation: none !important; }
}
